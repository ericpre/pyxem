
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/plotting/interactive_line_profile.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_plotting_interactive_line_profile.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_plotting_interactive_line_profile.py:


Creating an Interactive Line Profile
====================================

Many times we want to measure the distance between two disks in a diffraction pattern.  A lot of times
programming this is a bit of a pain.  With HyperSpy's interactive tools we can fairly easily create
a line profile that we can interactively adjust to measure the distance between two disks in a diffraction pattern.

.. GENERATED FROM PYTHON SOURCE LINES 9-25

.. code-block:: Python


    from pyxem.data import simulated_strain
    import hyperspy.api as hs

    strained_signal = simulated_strain(
        navigation_shape=(32, 32),
        signal_shape=(512, 512),
        disk_radius=20,
        num_electrons=1e5,
        strain_matrix=None,
        lazy=True,
    )
    strained_signal.plot()
    profile = strained_signal.add_interactive_line_profile(linewidth=1)





.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /examples/plotting/images/sphx_glr_interactive_line_profile_001.png
         :alt: interactive line profile
         :srcset: /examples/plotting/images/sphx_glr_interactive_line_profile_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /examples/plotting/images/sphx_glr_interactive_line_profile_002.png
         :alt:  Signal
         :srcset: /examples/plotting/images/sphx_glr_interactive_line_profile_002.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /examples/plotting/images/sphx_glr_interactive_line_profile_003.png
         :alt: interactive line profile
         :srcset: /examples/plotting/images/sphx_glr_interactive_line_profile_003.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

      0%|          | 0/65 [00:00<?, ?it/s]    100%|██████████| 65/65 [00:00<00:00, 1190.12it/s]




.. GENERATED FROM PYTHON SOURCE LINES 26-30

That's it!  For completeness, here is the code to create the interactive line profile.
You might want to use or modify this code to create your own interactive line profiles.
The interactive functionality is built into HyperSpy is pretty powerful but sometimes
can be confusing and a little tricky to get right.

.. GENERATED FROM PYTHON SOURCE LINES 30-59

.. code-block:: Python



    line_roi = hs.roi.Line2DROI(x1=-1, y1=-1, x2=1, y2=1, linewidth=1)

    if (
        line_roi.update
        not in strained_signal.axes_manager.events.any_axis_changed.connected
    ):
        strained_signal.axes_manager.events.any_axis_changed.connect(line_roi.update, [])


    def get_current_profile():
        return line_roi(strained_signal.get_current_signal())


    profile = hs.interactive(
        get_current_profile,
        event=[
            line_roi.events.changed,
            strained_signal.axes_manager.events.indices_changed,
        ],
    )
    line_roi.add_widget(strained_signal, axes=(2, 3))
    hs.plot.plot_spectra(
        [
            profile,
        ]
    )




.. image-sg:: /examples/plotting/images/sphx_glr_interactive_line_profile_004.png
   :alt: interactive line profile
   :srcset: /examples/plotting/images/sphx_glr_interactive_line_profile_004.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    <Axes: xlabel='<undefined> ($\\AA^{-1}$)', ylabel='Intensity'>



.. GENERATED FROM PYTHON SOURCE LINES 60-61

sphinx_gallery_thumbnail_number = 3


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 10.025 seconds)


.. _sphx_glr_download_examples_plotting_interactive_line_profile.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: interactive_line_profile.ipynb <interactive_line_profile.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: interactive_line_profile.py <interactive_line_profile.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: interactive_line_profile.zip <interactive_line_profile.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
